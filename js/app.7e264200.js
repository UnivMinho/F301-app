(function(){"use strict";var t={293:function(t,e,a){var i=a(5471),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.shouldShowSidebar?e("sidebar"):t._e(),e("router-view")],1)},o=[],r={computed:{shouldShowSidebar(){return"/"!==this.$route.path}}},n=r,l=a(1656),c=(0,l.A)(n,s,o,!1,null,null,null),d=c.exports,m=a(173),u=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"main-bg"}),e("div",{staticClass:"profile"},[e("div",{staticClass:"profile-pic"},[t._m(0),e("input",{attrs:{id:"file",type:"file"},on:{change:function(e){return t.loadFile(e)}}}),e("img",{key:t.imageSrc,attrs:{src:t.imageSrc,id:"output",width:"200"}})]),e("div",{staticClass:"userInfo"},[e("div",{staticClass:"profile-field"},[e("div",{staticClass:"input-with-icon"},[e("i",{staticClass:"fa-solid fa-user-circle"}),t._v(" "),t.editMode?e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedName,expression:"editedName"}],attrs:{type:"text",id:"name"},domProps:{value:t.editedName},on:{input:function(e){e.target.composing||(t.editedName=e.target.value)}}}):e("input",{attrs:{type:"text",id:"name",disabled:""},domProps:{value:t.name}})])]),e("div",{staticClass:"profile-field"},[e("div",{staticClass:"input-with-icon"},[e("i",{staticClass:"fa-solid fa-envelope"}),t._v(" "),t.editMode?e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedEmail,expression:"editedEmail"}],attrs:{type:"email",id:"email"},domProps:{value:t.editedEmail},on:{input:function(e){e.target.composing||(t.editedEmail=e.target.value)}}}):e("input",{attrs:{type:"email",id:"email",disabled:""},domProps:{value:t.email}})]),t.emailError?e("span",{staticClass:"error"},[t._v(t._s(t.emailError))]):t._e()]),e("div",{staticClass:"profile-field"},[e("div",{staticClass:"input-with-icon"},[e("i",{staticClass:"fa-solid fa-lock"}),t._v(" "),t.editMode?e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedPassword,expression:"editedPassword"}],attrs:{type:"password",id:"password"},domProps:{value:t.editedPassword},on:{input:function(e){e.target.composing||(t.editedPassword=e.target.value)}}}):e("input",{attrs:{type:"password",id:"password",disabled:""},domProps:{value:t.password}})]),t.passwordError?e("span",{staticClass:"error"},[t._v(t._s(t.passwordError))]):t._e()]),e("div",{staticClass:"profile-field"},[t.editMode?e("button",{staticClass:"save-button",attrs:{type:"submit"},on:{click:t.saveProfile}},[t._v("Guardar")]):e("button",{staticClass:"edit-button",attrs:{type:"submit"},on:{click:t.toggleEditMode}},[t._v("Editar Perfil")]),t.editMode?e("button",{staticClass:"cancel-button",attrs:{type:"submit"},on:{click:t.cancelEdit}},[t._v("Cancelar")]):t._e()])])])])},p=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"-label",attrs:{for:"file"}},[e("span",{staticClass:"glyphicon glyphicon-camera"}),e("span",[t._v("Change Image")])])}],v=(a(4114),a.p+"img/fotoperfil2.1ab4bae5.jpg");const h=new i["default"];var g={name:"ProfilePage",mounted(){const t=localStorage.getItem("profileImageData");t&&(this.imageSrc=t);const e=localStorage.getItem("name");e&&(this.name=e);const a=localStorage.getItem("email");a&&(this.email=a);const i=localStorage.getItem("password");i&&(this.password=i)},data(){return{imageSrc:v,editMode:!1,name:"John Doe",email:"johndoe@example.com",password:"********",editedName:"",editedEmail:"",editedPassword:"",userName:"Carlos Campos"}},methods:{cancelEdit(){this.editedName=this.name,this.editedEmail=this.email,this.editedPassword=this.password,this.editMode=!1},loadFile(t){const e=t.target.files[0],a=new FileReader;a.onload=t=>{this.imageSrc=t.target.result,localStorage.setItem("profileImageData",t.target.result),h.$emit("profilePictureUpdated",t.target.result)},a.readAsDataURL(e)},toggleEditMode(){this.editMode=!this.editMode,this.editMode&&(this.editedName=this.name,this.editedEmail=this.email,this.editedPassword=this.password)},saveProfile(){this.name=this.editedName,this.email=this.editedEmail,this.password=this.editedPassword,this.editMode=!1,localStorage.setItem("name",this.name),localStorage.setItem("email",this.email),localStorage.setItem("password",this.password)},logout(){this.$router.push({path:"/"})}}},f=g,w=(0,l.A)(f,u,p,!1,null,"52e6dcac",null),b=w.exports,C=function(){var t=this,e=t._self._c;return e("div",[t.isSmallScreen?e("div",{staticClass:"card login-card"},[e("div",{staticClass:"card-body p-5"},[e("h2",{staticClass:"text-center mb-4 custom-heading"},[t._v("Login")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"input-with-icon"},[e("font-awesome-icon",{attrs:{icon:["fas","user"]}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",required:"",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})],1),t.emailError?e("span",{staticClass:"error"},[t._v(t._s(t.emailError))]):t._e()]),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"input-with-icon"},[e("font-awesome-icon",{attrs:{icon:["fas","lock"]}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:"",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})],1),t.passwordError?e("span",{staticClass:"error"},[t._v(t._s(t.passwordError))]):t._e()]),e("button",{staticClass:"btn btn-custom-login w-100",attrs:{type:"submit"}},[t._v("Login")]),e("div",{staticClass:"alert alert-danger d-none",attrs:{id:"loginError"}},[t._v("Utilizador ou password inválidos.")]),e("div",{staticClass:"text-center mt-4"},[e("router-link",{staticClass:"btn btn-link",attrs:{to:"/forgotPassword"}},[t._v("Esqueceu a sua password?")])],1)]),e("div",{staticClass:"text-center mt-4"},[e("GoogleSigninButton",{attrs:{clientId:t.clientId},on:{onsuccess:t.onSuccess,onerror:t.onError}})],1)])]):e("div",{staticClass:"app-container"},[t._m(0),e("div",{staticClass:"card login-card"},[e("div",{staticClass:"card-body p-5"},[e("h2",{staticClass:"text-center mb-4 custom-heading"},[t._v("Login")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"input-with-icon"},[e("font-awesome-icon",{attrs:{icon:["fas","user"]}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",required:"",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})],1),t.emailError?e("span",{staticClass:"error"},[t._v(t._s(t.emailError))]):t._e()]),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"input-with-icon"},[e("font-awesome-icon",{attrs:{icon:["fas","lock"]}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:"",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})],1),t.passwordError?e("span",{staticClass:"error"},[t._v(t._s(t.passwordError))]):t._e()]),e("button",{staticClass:"btn btn-custom-login w-100",attrs:{type:"submit"}},[t._v("Login")]),e("div",{staticClass:"alert alert-danger d-none",attrs:{id:"loginError"}},[t._v("Utilizador ou password inválidos.")]),e("div",{staticClass:"text-center mt-4"},[e("router-link",{staticClass:"btn btn-link",attrs:{to:"/forgotPassword"}},[t._v("Esqueceu a sua password?")])],1)]),e("div",{staticClass:"text-center mt-4"},[e("GoogleSigninButton",{attrs:{clientId:t.clientId},on:{onsuccess:t.onSuccess,onerror:t.onError}})],1)])])]),e("b-modal",{attrs:{id:"loginSuccessModal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("font-awesome-icon",{staticClass:"me-2 text-success",attrs:{icon:["fas","check-circle"]}}),e("span",[t._v("Login")])],1)]},proxy:!0}]),model:{value:t.showSuccessModal,callback:function(e){t.showSuccessModal=e},expression:"showSuccessModal"}},[e("div",{staticClass:"text-center"},[e("font-awesome-icon",{staticClass:"mb-3 text-primary",staticStyle:{"font-size":"3rem"},attrs:{icon:["fas","thumbs-up"]}}),e("p",{staticClass:"my-4"},[t._v("Login efetuado com sucesso!")]),e("b-button",{attrs:{variant:"success"},on:{click:t.closeSuccessModal}},[t._v("OK")])],1)]),e("b-modal",{attrs:{id:"loginFailedModal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("font-awesome-icon",{staticClass:"me-2 text-danger",attrs:{icon:["fas","times-circle"]}}),e("span",[t._v("Login")])],1)]},proxy:!0}]),model:{value:t.showFailedModal,callback:function(e){t.showFailedModal=e},expression:"showFailedModal"}},[e("div",{staticClass:"text-center"},[e("font-awesome-icon",{staticClass:"mb-3 text-danger",staticStyle:{"font-size":"3rem"},attrs:{icon:["fas","exclamation-triangle"]}}),e("p",{staticClass:"my-4"},[t._v("Utilizador ou password inválidos.")]),e("b-button",{attrs:{variant:"danger"},on:{click:t.closeFailedModal}},[t._v("OK")])],1)])],1)},_=[function(){var t=this,e=t._self._c;return e("h1",{staticClass:"fw-bold text-primary m-0",staticStyle:{position:"absolute",top:"6%",left:"2.6%",margin:"10px"}},[t._v("Go"),e("span",{staticClass:"text-white"},[t._v("Help")])])}],I=a(9547),S=a.p+"img/gh2.ef6202b2.png",y=a(1273),k=a(6188),M=a(7107);M.Yv.add(k.X7I);const x=[{username:"admin",password:"admin",email:"admin@admin.com"},{username:"tiago_castro",password:"tiago1234",email:"tiago@gohelp.com"},{username:"carlos_campos",password:"carlos1234",email:"carlos@gohelp.com"},{username:"joao_marques",password:"joao1234",email:"joao@gohelp.com"},{username:"vitor_fernandes",password:"vitor1234",email:"vitor@gohelp.com"},{username:"liliana_abreu",password:"liliana1234",email:"liliana@gohelp.com"}];localStorage.setItem("users",JSON.stringify(x));const P=[{mesas:30},{sacos:100}];localStorage.setItem("materiais",JSON.stringify(P));var E={components:{GoogleSigninButton:I.GoogleSigninButton,FontAwesomeIcon:y.gc},data(){return{clientId:"522013438275-ck4u9vbd1hqgk1sb8ff29ui2clbikvlk.apps.googleusercontent.com",username:"",password:"",email:"",logoImg:S,isSmallScreen:!1,showSuccessModal:!1,showFailedModal:!1}},created(){document.title="GoHelp App";const t=document.querySelector("link[rel*='icon']")||document.createElement("link");t.rel="icon",t.type="image/png",t.href="./img/icons/favicon-backoffice.png",document.head.appendChild(t)},mounted(){this.checkScreenWidth(),window.addEventListener("resize",this.checkScreenWidth)},beforeDestroy(){window.removeEventListener("resize",this.checkScreenWidth)},methods:{login(){const t=this.username,e=this.password,a=JSON.parse(localStorage.getItem("users"));let i=!1,s="";if(a){for(let o=0;o<a.length;o++)if(a[o].username===t&&a[o].password===e){i=!0,s=a[o].email;const t={username:this.username};this.$root.loggedInUser=t,sessionStorage.setItem("loggedInUser",JSON.stringify(t));break}i?this.showSuccessModal=!0:this.showFailedModal=!0}},closeSuccessModal(){this.showSuccessModal=!1,this.$router.push({path:"/landing",query:{username:this.username,email:this.email,password:this.password}})},closeFailedModal(){this.showFailedModal=!1},forgotPassword(){},handleInput(){const t=document.getElementById("username"),e=document.getElementById("password");t.value.trim().length>0?e.classList.add("hidden"):e.classList.remove("hidden")},onSuccess(t){console.log("Logged in as: "+t.getBasicProfile().getName())},onError(t){console.error("Google sign-in error:",t)},checkScreenWidth(){this.isSmallScreen=window.innerWidth<=768}}},D=E,F=(0,l.A)(D,C,_,!1,null,"631de722",null),N=F.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[t.isSmallScreen?t._e():e("div",{staticClass:"sidebar"},[e("router-link",{staticClass:"brand",attrs:{to:"/landing"},nativeOn:{click:function(e){return t.refreshData.apply(null,arguments)}}},[e("h1",{staticClass:"fw-bold text-primary mt-5"},[t._v(" Go"),e("span",{staticClass:"text-white"},[t._v("Help")])])]),e("b",{staticClass:"btn btn-link fw-bold mt-3",class:{selected:"profile"===t.currentPage},style:{color:"profile"===t.currentPage?"#FF6F0F":"inherit"},on:{click:function(e){return t.goToPage("profile")}}},[e("img",{staticClass:"profile-picture",attrs:{src:t.profilePictureSrc,alt:"Profile Picture"}})]),this.initiative?e("b",{staticClass:"btn btn-link fw-bold mt-5",class:{selected:"manageInititives"===t.currentPage},style:{color:"manageInititives"===t.currentPage?"#FF6F0F":"inherit"},on:{click:function(e){return t.goToPage("manageInititives")}}},[t._v(" Equipa ")]):t._e(),this.initiative?e("b",{staticClass:"btn btn-link fw-bold mt-3",class:{selected:"registerMoments"===t.currentPage},style:{color:"registerMoments"===t.currentPage?"#FF6F0F":"inherit"},on:{click:function(e){return t.goToPage("registerMoments")}}},[t._v(" Registar momentos ")]):t._e(),this.initiative?e("b",{staticClass:"btn btn-link fw-bold mt-3",class:{selected:"dashboard"===t.currentPage},style:{color:"dashboard"===t.currentPage?"#FF6F0F":"inherit"},on:{click:function(e){return t.goToPage("dashboard")}}},[t._v(" Formulário recolhas ")]):t._e(),e("b",{staticClass:"btn btn-link fw-bold mt-3",class:{selected:"historyPage"===t.currentPage},style:{color:"historyPage"===t.currentPage?"#FF6F0F":"inherit"},on:{click:function(e){return t.goToPage("historyPage")}}},[t._v("Histórico Iniciativas")]),e("b",{staticClass:"btn btn-link fw-bold mt-auto",on:{click:t.logout}},[e("i",{staticClass:"fa fa-sign-out-alt"})])],1),e("div",{staticClass:"content",style:{marginLeft:t.isSmallScreen?"0":"200px"}},[e("router-view"),t.isOnLandingPage()?t._e():e("div",{staticClass:"initiative-card"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"weather-card text-center mb-4",attrs:{id:"weather-info"},on:{click:t.showWeatherForecast}},[e("h2",[t._v(t._s(t.weatherData.name))]),e("h2",[t._v(t._s(t.currentDate))]),e("img",{staticClass:"weather-icon",attrs:{src:t.weatherIcon,alt:t.weatherData.weather[0].description}}),e("div",{staticClass:"weather-detail"},[e("p",[t._v(t._s(t.weatherData.main.temp)+"°C")]),e("div",{staticClass:"humidity-wind"},[e("div",{staticClass:"container"},[e("img",{attrs:{src:"/humidity.png",alt:"Humidity Icon"}}),e("p",[t._v(t._s(t.weatherData.main.humidity)+"% Humidade")])]),e("div",{staticClass:"container"},[e("img",{attrs:{src:"/wind.png",alt:"Wind Icon"}}),e("p",[t._v("Vento: "+t._s(t.weatherData.wind.speed)+" km/h")])])])])])]),e("div",{staticClass:"col-md-6"},[t.initiative?e("div",{staticClass:"card-body"},[e("h1",{staticClass:"card-title"},[t._v(t._s(t.initiative.designacao))]),e("img",{staticClass:"initiative-image",attrs:{src:t.getInitiativeImage(),alt:"Initiative Image"}}),e("h5",{staticClass:"card-text fs-3"},[t._v("Responsável: "+t._s(t.initiative.profissional))]),e("h5",{staticClass:"card-text fs- mt-5 mb-4 highlighted"},[t._v("Quantidade recolhida: "+t._s(t.initiative.materialRecolhido))]),e("div",{staticClass:"d-md-none"},[e("div",{staticClass:"btnsMaterial mt-3"},[e("h2",[t._v("Estado do Material:")]),e("b-button",{class:{"active-button":"Levantado"===this.initiative.estadoMaterial,"inactive-button":"Levantado"!==this.initiative.estadoMaterial},attrs:{id:"levantado",variant:"success"},on:{click:function(e){return t.manageMaterial("Levantado")}}},[t._v("Levantado")]),e("b-button",{class:{"active-button":"Devolvido"===this.initiative.estadoMaterial,"inactive-button":"Devolvido"!==this.initiative.estadoMaterial},attrs:{variant:"danger"},on:{click:function(e){return t.manageMaterial("Devolvido")}}},[t._v("Devolvido")])],1)])]):e("div",{staticClass:"card-body"},[e("h2",{staticClass:"card-title"},[t._v("Não tem iniciativas hoje.")])])]),t.initiative?e("div",{staticClass:"col-md-6 d-none d-md-block"},[e("div",{staticClass:"btnsMaterial mt-1"},[e("h2",[t._v("Estado do Material:")]),e("b-button",{class:{"active-button":"Levantado"===this.initiative.estadoMaterial,"inactive-button":"Levantado"!==this.initiative.estadoMaterial},attrs:{id:"levantado",variant:"success"},on:{click:function(e){return t.manageMaterial("Levantado")}}},[t._v("Levantado")]),e("b-button",{class:{"active-button":"Devolvido"===this.initiative.estadoMaterial,"inactive-button":"Devolvido"!==this.initiative.estadoMaterial},attrs:{variant:"danger"},on:{click:function(e){return t.manageMaterial("Devolvido")}}},[t._v("Devolvido")])],1)]):t._e(),t.initiative?e("div",{staticClass:"col-md-6"},[e("b-button",{staticClass:"mt-3 img-fluid btnParticipantes",attrs:{variant:"primary"},on:{click:t.toggleParticipantsList}},[t._v("Ver Participantes")]),t.isParticipantsListOpen?e("div",{staticClass:"participants-container mt-3"},t._l(this.voluntarios,(function(a,i){return e("div",{key:i,staticClass:"participant-card card p-3 mb-3"},[e("div",{staticClass:"d-flex align-items-center"},[e("img",{staticClass:"rounded-circle",attrs:{src:a.foto||"/fotoperfil1.jpg",alt:"Profile image",width:"50",height:"50"}}),e("div",{staticClass:"participant-details ms-3"},[e("h5",{staticClass:"name"},[t._v(t._s(a.nome))]),e("p",{staticClass:"email"},[t._v(t._s(a.email))]),a.present?e("i",{staticClass:"fas fa-check-circle text-success"}):e("i",{staticClass:"fas fa-times-circle text-danger"})])])])})),0):t._e()],1):t._e()]),t.initiative?e("b-button",{staticClass:"mt-4 mx-auto d-block btn-lm",attrs:{id:"finishInitiative",variant:"primary"},on:{click:t.confirmEndInitiative}},[t._v(" Finalizar Iniciativa")]):t._e()],1)],1),t.isSmallScreen?e("nav",{staticClass:"bottom-navbar"},[e("div",{staticClass:"navigation-links mt-2"},[e("b",{staticClass:"btn btn-link fw-bold",class:{selected:"profile"===t.currentPage},style:{color:"profile"===t.currentPage?"#FF6F0F":"inherit"},on:{click:function(e){return t.goToPage("profile")}}},[e("img",{staticClass:"profile-pictureBottom",attrs:{src:t.profilePictureSrc,alt:"Profile Picture"}})]),this.initiative?e("router-link",{staticClass:"btn btn-link fw-bold",attrs:{to:{name:"manageInititives"}}},[e("i",{staticClass:"fas fa-users"})]):t._e(),this.initiative?e("router-link",{staticClass:"btn btn-link fw-bold",attrs:{to:{name:"registerMoments"}}},[e("i",{staticClass:"fa-solid fa-camera"})]):t._e(),e("router-link",{staticClass:"btn btn-link fw-bold",attrs:{to:"/landing"},nativeOn:{click:function(e){return t.refreshData.apply(null,arguments)}}},[e("i",{staticClass:"fa-solid fa-house"})]),this.initiative?e("router-link",{staticClass:"btn btn-link fw-bold",attrs:{to:{name:"dashboard"}}},[e("i",{staticClass:"fa-brands fa-wpforms"})]):t._e(),e("router-link",{staticClass:"btn btn-link fw-bold",attrs:{to:{name:"historyPage"}}},[e("i",{staticClass:"fa-solid fa-clock-rotate-left"})]),e("b",{staticClass:"btn btn-link fw-bold",on:{click:t.logout}},[e("i",{staticClass:"fa fa-sign-out-alt"})])],1)]):t._e(),e("b-modal",{attrs:{id:"warningModal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("font-awesome-icon",{staticClass:"me-2 text-warning",attrs:{icon:["fas","exclamation-triangle"]}}),e("span",[t._v("Aviso")])],1)]},proxy:!0}]),model:{value:t.showWarningModal,callback:function(e){t.showWarningModal=e},expression:"showWarningModal"}},[e("div",{staticClass:"text-center"},[e("font-awesome-icon",{staticClass:"mb-3 text-warning",staticStyle:{"font-size":"3rem"},attrs:{icon:["fas","exclamation-circle"]}}),e("p",{staticClass:"my-4"},[t._v(t._s(t.alertMessage))]),e("b-button",{attrs:{variant:"warning"},on:{click:t.closeWarningModal}},[t._v("OK")])],1)]),e("b-modal",{attrs:{id:"endInitiativeModal",title:"Confirmar Finalização"},scopedSlots:t._u([{key:"modal-footer",fn:function({cancel:a}){return[e("b-button",{attrs:{variant:"danger"},on:{click:t.endInitiative}},[t._v("Sim")]),e("b-button",{attrs:{variant:"secondary"},on:{click:a}},[t._v("Não")])]}}]),model:{value:t.showEndInitiativeModal,callback:function(e){t.showEndInitiativeModal=e},expression:"showEndInitiativeModal"}},[e("p",{staticClass:"my-4"},[t._v("Tem a certeza que quer terminar esta iniciativa?")]),e("b-form-group",{attrs:{"label-for":"comment"}},[e("b-form-input",{attrs:{id:"comment",placeholder:"Introduza algumas anotações referentes à iniciativa."},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1),e("b-modal",{attrs:{id:"weatherForecastModal",title:"Previsão do tempo nos próximos 5 dias"},model:{value:t.showWeatherForecastModal,callback:function(e){t.showWeatherForecastModal=e},expression:"showWeatherForecastModal"}},[t.weatherForecastData?e("div",t._l(t.weatherForecastData.list,(function(a,i){return e("div",{key:i,staticClass:"forecast-item"},[e("p",[t._v(t._s(t.formatDate(a.dt_txt))+": "+t._s(a.main.temp)+"°C")]),e("img",{staticClass:"forecast-icon",attrs:{src:t.getWeatherIcon(a.weather[0].description),alt:a.weather[0].description}})])})),0):e("div",[e("p",[t._v("A carregar...")])])])],1)},R=[],O=a(5532),j=a(5361),L={components:{BButton:O.P,BModal:j.i},data(){return{isSmallScreen:!1,currentPage:"",initiatives:[],initiative:"",voluntarios:[],weatherData:null,weatherForecastData:null,materiais:[],materialStatus:"",weatherIcon:"",currentDate:(new Date).toISOString().split("T")[0],isParticipantsListOpen:!1,imageSrc:null,profilePictureSrc:localStorage.getItem("profileImageData")||v,apiKey:"94a5314165f79d79b15389ec7c0254ed",showEndInitiativeModal:!1,showWeatherForecastModal:!1}},created(){h.$on("profilePictureUpdated",this.updateProfilePicture),document.title="GoHelp App";const t=document.querySelector("link[rel*='icon']")||document.createElement("link");t.rel="icon",t.type="image/png",t.href="./img/icons/favicon-backoffice.png",document.head.appendChild(t)},computed:{loggedInUser(){return this.$root.loggedInUser}},mounted(){this.checkScreenWidth(),window.addEventListener("resize",this.checkScreenWidth),"landing"!==this.$route.name&&this.loadInitiative()},beforeDestroy(){h.$off("profilePictureUpdated",this.updateProfilePicture),window.removeEventListener("resize",this.checkScreenWidth)},methods:{goToPage(t){this.$router.push({name:t}).catch((t=>{if("NavigationDuplicated"!==t.name)throw t})),this.currentPage=t},isOnLandingPage(){return"historyPage"===this.$route.name||"manageInititives"===this.$route.name||"registerMoments"===this.$route.name||"dashboard"===this.$route.name||"profile"===this.$route.name},formatName(t){return t.split("_").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" ")},checkScreenWidth(){this.isSmallScreen=window.innerWidth<=768},logout(){this.$router.push("/")},loadInitiative(){const t=JSON.parse(localStorage.getItem("currentInitiative"));if(console.log("Iniciativas",t),t){this.initiatives=t,this.fetchWeather();for(let t=0;t<this.initiatives.length;t++)if(this.initiatives[t].dia===this.currentDate&&this.formatName(this.loggedInUser.username)===this.initiatives[t].profissional){this.initiative=this.initiatives[t],this.voluntarios=this.initiatives[t].voluntarios;break}console.log("Current Initiative:",this.initiative)}else this.createSampleInitiatives(),console.log("Current Initiatives:",this.initiatives),localStorage.setItem("currentInitiative",JSON.stringify(this.initiatives)),this.fetchWeather()},manageMaterial(t){let e=JSON.parse(localStorage.getItem("materiais"));const a=parseInt(this.initiative.numMesas,10),i=parseInt(this.initiative.numSacos,10);if(null!==this.initiative.estadoMaterial&&this.initiative.estadoMaterial===t)return this.showWarningModal=!0,void(this.alertMessage="Você já realizou esta ação. Por favor, selecione outra opção.");let s=parseInt(e[0].mesas,10),o=parseInt(e[1].sacos,10);"Levantado"===t?(s-=a,o-=i):"Devolvido"===t&&(s+=a,o+=i),e[0].mesas=s,e[1].sacos=o,localStorage.setItem("materiais",JSON.stringify(e)),this.initiative.estadoMaterial=t,localStorage.setItem("currentInitiative",JSON.stringify(this.initiatives))},handleStorageChange(t){"currentInitiative"===t.key&&this.loadInitiative()},refreshData(){location.reload()},createSampleInitiatives(){const t={nome:"Carlos Campos",email:"carlos.campos@example.com",atividadeEscolhida:"Recolha de Alimentos",designacao:"Recolha de Alimentos",local:"Porto",numParticipantes:"30",dia:"2024-05-26",voluntarios:[{nome:"Ana",email:"ana.silva@example.com",foto:"/fotoperfil1.jpg",present:!1},{nome:"Bruno",email:"bruno.martins@example.com",foto:"/fotoperfil1.jpg",present:!1}],profissional:"Carlos Campos",numMesas:"2",numSacos:"50",numVagas:"10",risco:"Baixo",estadoMaterial:"",materialRecolhido:"",estado:"Aceite",custoTotal:"200€",quantidade:"",mediaUrl:"/about-1.jpg",imagensIds:[]},e={nome:"Carlos Campos",email:"carlos.campos@example.com",atividadeEscolhida:"Recolha de Roupa",designacao:"Recolha de Roupa",local:"Braga",numParticipantes:"20",dia:"2024-08-15",voluntarios:[{nome:"Eva Lima",email:"eva.lima@example.com",foto:"/fotoperfil1.jpg",present:!1},{nome:"Fábio Neves",email:"fabio.neves@example.com",foto:"/fotoperfil2.jpg",present:!1}],profissional:"Carlos Campos",numMesas:"5",numSacos:"100",numVagas:"10",risco:"Médio",estadoMaterial:"",materialRecolhido:"",estado:"Aceite",custoTotal:"500€",quantidade:"",mediaUrl:"/about-1.jpg",imagensIds:[]},a={nome:"Tiago Castro",email:"tiago.castro@example.com",atividadeEscolhida:"Recolha de Material Escolar",designacao:"Recolha de Material Escolar",local:"Guimarães",numParticipantes:"20",dia:"2024-05-26",voluntarios:[{nome:"António Santos",email:"antonio.santos@example.com",foto:"/fotoperfil1.jpg",present:!1},{nome:"João Almeida",email:"joao.almeida@example.com",foto:"/fotoperfil2.jpg",present:!1}],profissional:"Tiago Castro",numMesas:"3",numSacos:"200",numVagas:"5",risco:"2",estadoMaterial:"",materialRecolhido:"",estado:"Aceite",custoTotal:"300€",quantidade:"",mediaUrl:"/about-1.jpg",imagensIds:[]},i={nome:"Tiago Castro",email:"tiago.castro@example.com",atividadeEscolhida:"Campanha de Doação de Roupas",designacao:"Recolha de Roupas",local:"Porto",numParticipantes:"25",dia:"2024-05-15",voluntarios:[{nome:"Nuno Costa",email:"nuno.costa@example.com",foto:"/fotoperfil1.jpg",present:!1},{nome:"Olga Ribeiro",email:"olga.ribeiro@example.com",foto:"/fotoperfil2.jpg",present:!1}],profissional:"Tiago Castro",numMesas:"4",numSacos:"150",numVagas:"5",risco:"Médio",estadoMaterial:"",materialRecolhido:"",estado:"Aceite",custoTotal:"250€",quantidade:"",mediaUrl:"/about-1.jpg",imagensIds:[]};this.initiatives.push(t,e,a,i),localStorage.setItem("currentInitiative",JSON.stringify(this.initiatives))},fetchWeather(){if(this.initiatives&&this.initiatives.length>0){const t=this.initiatives[0].local,e=`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${this.apiKey}&units=metric`;fetch(e).then((t=>{if(!t.ok)throw new Error("City not found");return t.json()})).then((t=>{this.weatherData=t,this.setWeatherIcon()})).catch((t=>{console.error("Error:",t),alert(t.message)}))}},setWeatherIcon(){const t=this.weatherData.weather[0].description.toLowerCase();t.includes("clear")?this.weatherIcon="clear.png":t.includes("clouds")?this.weatherIcon="clouds.png":t.includes("drizzle")?this.weatherIcon="drizzle.png":t.includes("rain")?this.weatherIcon="rain.png":t.includes("snow")?this.weatherIcon="snow.png":t.includes("mist")||t.includes("fog")?this.weatherIcon="mist.png":t.includes("wind")?this.weatherIcon="wind.png":this.weatherIcon="default.png"},getWeatherIcon(t){const e=t.toLowerCase();return e.includes("clear")?"clear.png":e.includes("clouds")?"clouds.png":e.includes("drizzle")?"drizzle.png":e.includes("rain")?"rain.png":e.includes("snow")?"snow.png":e.includes("mist")||e.includes("fog")?"mist.png":e.includes("wind")?"wind.png":"default.png"},toggleParticipantsList(){this.isParticipantsListOpen=!this.isParticipantsListOpen},loadFile(t){const e=t.target.files[0];if(e){const t=new FileReader;t.onload=t=>{this.imageSrc=t.target.result,localStorage.setItem("profileImageData",t.target.result)},t.readAsDataURL(e)}},updateProfilePicture(t){this.profilePictureSrc=t},confirmEndInitiative(){this.showEndInitiativeModal=!0},endInitiative(){if(this.initiative&&"Aceite"===this.initiative.estado){this.initiative.estado="Finalizada";const t=JSON.parse(localStorage.getItem("currentInitiative")),e=t.findIndex((t=>t.data===this.initiative.data));-1!==e&&(t[e]=this.initiative,localStorage.setItem("currentInitiative",JSON.stringify(t))),this.initiative=null}this.showEndInitiativeModal=!1},showWeatherForecast(){this.fetchWeatherForecast(),this.showWeatherForecastModal=!0},fetchWeatherForecast(){if(this.weatherData){const t=this.weatherData.name,e=`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=${this.apiKey}&units=metric`;fetch(e).then((t=>t.json())).then((t=>{this.weatherForecastData=t})).catch((t=>{console.error("Error:",t)}))}},formatDate(t){const e={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(t).toLocaleDateString("pt-PT",e)},getInitiativeImage(){switch(this.initiative.designacao){case"Recolha de Alimentos":return"/RecolhaAlimentos.png";case"Recolha de Roupa":return"/recolhaRoupas";case"Recolha de Material Escolar":return"/recolhaMaterialEscolar.png";default:return"/images/default_initiative.jpg"}}}},U=L,T=(0,l.A)(U,A,R,!1,null,"62b2f529",null),q=T.exports,z=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"display-2 mb-3 mt-5"},[t._v("Regista os Momentos")]),e("div",{staticClass:"main-bg mt-5"},[e("div",{staticClass:"container py-4"},[e("div",{staticClass:"row"},t._l(t.multimedia,(function(a,i){return e("div",{key:i,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"our-team"},[e("div",{staticClass:"picture"},[e("img",{staticClass:"img-fluid",attrs:{src:a.image}})]),e("div",{staticClass:"button-container"},[e("button",{staticClass:"button",on:{click:function(e){return t.removeMedia(i)}}},[e("span",[t._v("Eliminar")]),e("div",{staticClass:"icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M3 6v18h18V6H3zm16 16H5V8h14v14zm-3-10v8h-2v-8h2zm-4 0v8h-2v-8h2zm-4 0v8H6v-8h2zm1-6h4v2h-4V6z"}})])])])])])])})),0),e("div",{staticClass:"photo-upload-card",on:{click:t.triggerFileUpload}},[e("input",{ref:"fileInput",attrs:{type:"file",hidden:""},on:{change:t.handlePhotoUpload}}),t._m(0)])])])])},W=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-icon"},[e("i",{staticClass:"fas fa-camera"}),e("p",[t._v("Clique para adicionar uma foto")])])}],J={data(){return{multimedia:[],loggedInUser:this.$root.loggedInUser,currentDate:(new Date).toISOString().split("T")[0]}},mounted(){this.loadFromLocalStorage()},methods:{triggerFileUpload(){this.$refs.fileInput.click()},handlePhotoUpload(t){const e=t.target.files[0],a=new FileReader;a.onload=t=>{const a={id:this.generateUniqueId(),image:t.target.result,name:e.name,type:e.type.startsWith("image")?"Imagem":"Vídeo"},i=JSON.parse(localStorage.getItem("currentInitiative")),s=this.formatName(this.loggedInUser.username);if(i){const t=i.find((t=>t.profissional===s&&t.dia===this.currentDate));t&&(t.imagensIds.push(a.id),localStorage.setItem("currentInitiative",JSON.stringify(i)))}this.multimedia.push(a),this.saveToLocalStorage()},a.readAsDataURL(e)},generateUniqueId(){return Math.random().toString(36).substr(2,9)},saveToLocalStorage(){localStorage.setItem("multimedia",JSON.stringify(this.multimedia))},loadFromLocalStorage(){const t=localStorage.getItem("multimedia");t&&(this.multimedia=JSON.parse(t))},removeMedia(t){this.multimedia.splice(t,1),this.saveToLocalStorage()},formatName(t){return t.split("_").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" ")}}},$=J,B=(0,l.A)($,z,W,!1,null,"c3be68a2",null),G=B.exports,H=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"container d-flex justify-content-center",staticStyle:{"margin-top":"80px"}},[e("div",{staticClass:"card text-center",staticStyle:{width:"350px"}},[e("div",{staticClass:"card-header h5 text-white bg-primary"},[t._v("Password Reset")]),e("div",{staticClass:"card-body px-5"},[e("p",{staticClass:"card-text py-2"},[t._v(" Introduza o seu email para receber um link de reset da password. ")]),e("div",{staticClass:"form-outline form-group"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendResetEmail.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),e("button",{staticClass:"btn btn-primary w-100 mt-3",attrs:{id:"resetBtn",type:"submit"}},[t._v("Reset password")])])])])])])])},V=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark fixed-top bg-navbar"},[e("div",{staticClass:"container-fluid"},[e("h1",{staticClass:"fw-bold text-primary m-0"},[t._v("Go"),e("span",{staticClass:"text-white"},[t._v("Help")])])])])}],K=a(9808),Q={data(){return{email:""}},methods:{sendResetEmail(){const t="B6v_dgycMt9reIwv9",e="service_fpsolkc",a="template_svck3ws",i=Math.random().toString(36).substring(7);K.Ay.send(e,a,{email:this.email,resetToken:i},t).then((t=>{console.log("Reset email sent!",t),alert("Reset email sent! Check your inbox."),localStorage.setItem("resetToken",i),localStorage.setItem("resetEmail",this.email),this.$router.push("/resetPassword")})).catch((t=>{console.error("Error sending reset email:",t),alert("Failed to send reset email. Please try again later.")}))}}},Y=Q,X=(0,l.A)(Y,H,V,!1,null,"38c886cf",null),Z=X.exports,tt=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"container d-flex justify-content-center",staticStyle:{"margin-top":"80px"}},[e("div",{staticClass:"card text-center",staticStyle:{"max-width":"350px"}},[e("div",{staticClass:"card-header h5 text-white bg-primary"},[t._v("Password Reset")]),e("div",{staticClass:"card-body px-5"},[e("p",{staticClass:"card-text py-2"},[t._v(" Introduza o seu email para receber um link de reset da password. ")]),e("div",{staticClass:"form-outline"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassword.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control w-100",attrs:{type:"email",placeholder:"Enter your email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.resetToken,expression:"resetToken"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Enter reset token",required:""},domProps:{value:t.resetToken},on:{input:function(e){e.target.composing||(t.resetToken=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control w-100",attrs:{type:"password",placeholder:"Enter new password",required:""},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary w-100",attrs:{id:"resetBtn",type:"submit"}},[t._v("Reset password")])])])])])])])},et=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark fixed-top bg-navbar"},[e("div",{staticClass:"container-fluid"},[e("h1",{staticClass:"fw-bold text-primary m-0"},[t._v("Go"),e("span",{staticClass:"text-white"},[t._v("Help")])])])])}],at={data(){return{email:localStorage.getItem("resetEmail")||"",resetToken:"",newPassword:""}},methods:{resetPassword(){const t=localStorage.getItem("resetToken");console.log("Stored reset token:",t),this.resetToken===t?(alert("Password reset successfully!"),localStorage.removeItem("resetToken"),localStorage.removeItem("resetEmail"),this.$router.push("/")):alert("Invalid reset token")}}},it=at,st=(0,l.A)(it,tt,et,!1,null,"059c93ba",null),ot=st.exports,rt=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"display-2 mb-3 mt-5"},[t._v("Gestor de presenças")]),e("div",{staticClass:"main-bg mt-5"},[e("div",{staticClass:"container py-4"},[e("div",{staticClass:"row"},t._l(t.profissionais,(function(a,i){return e("div",{key:i,staticClass:"col-md-3 mb-4"},[e("div",{staticClass:"our-team"},[e("div",{staticClass:"picture"},[e("img",{staticClass:"img-fluid",attrs:{src:a.foto||"/perfil.jpg"}})]),e("div",{staticClass:"team-content"},[e("h3",{staticClass:"name"},[t._v(t._s(a.nome))]),e("h4",{staticClass:"title"},[t._v(t._s(a.area))])]),e("b-button",{class:{"active-button":a.present,"inactive-button":!a.present},attrs:{variant:"success"},on:{click:function(e){return t.markPresent(a,i)}}},[t._v("Presente")]),e("b-button",{class:{"active-button":!a.present,"inactive-button":a.present},attrs:{variant:"danger"},on:{click:function(e){return t.markAbsent(a,i)}}},[t._v("Ausente")])],1)])})),0)])])])},nt=[],lt={data(){return{profissionais:[],initiatives:[],currentDate:(new Date).toISOString().split("T")[0]}},computed:{loggedInUser(){return this.$root.loggedInUser}},mounted(){this.loadProfissionais()},methods:{loadProfissionais(){const t=JSON.parse(localStorage.getItem("currentInitiative")),e=this.formatName(this.loggedInUser.username);if(console.log("formatado: ",e),t){const a=t.filter((t=>t.profissional===e&&t.dia===this.currentDate));a.length>0&&(this.profissionais=a[0].voluntarios.map((t=>({...t,present:void 0!==t.present&&t.present}))))}console.log("PROFISSIONAIS: ",this.profissionais)},formatName(t){return t.split("_").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" ")},saveData(){const t=JSON.parse(localStorage.getItem("currentInitiative")),e=t.find((t=>t.dia===this.currentDate));e.voluntarios=this.profissionais,localStorage.setItem("currentInitiative",JSON.stringify(t))},markPresent(t,e){this.profissionais[e].present=!0,this.saveData()},markAbsent(t,e){this.profissionais[e].present=!1,this.saveData()}}},ct=lt,dt=(0,l.A)(ct,rt,nt,!1,null,"fc5084aa",null),mt=dt.exports,ut=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"display-2 mb-3 mt-5"},[t._v("Formulário de Recolha")]),e("div",{staticClass:"main-bg"},[e("div",{staticClass:"container py-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 offset-md-4"},[e("b-card",{staticClass:"card"},[[e("img",{staticClass:"card-img-top",attrs:{src:t.initiativeImage,alt:t.initiativeAltText}}),e("h5",{staticClass:"card-title"},["Recolha de alimentos"===t.selectedInitiative.tipo?[e("font-awesome-icon",{attrs:{icon:["fas","utensils"]}})]:"clothes"===t.selectedInitiative?[e("font-awesome-icon",{attrs:{icon:["fas","shirt"]}})]:"schoolMaterial"===t.selectedInitiative?[e("font-awesome-icon",{attrs:{icon:["fas","book"]}})]:[t._v(" "+t._s(t.selectedInitiative.charAt(0).toUpperCase()+t.selectedInitiative.slice(1))+" ")]],2),e("div",{staticClass:"input-with-margin"},[e("b-form-input",{attrs:{placeholder:t.placeholderText,size:"20"},model:{value:t.quantidade,callback:function(e){t.quantidade=e},expression:"quantidade"}})],1),e("b-button",{attrs:{id:"submit-button",variant:"success"},on:{click:function(e){return t.saveData()}}},[t._v("Guardar Registo")]),e("b-alert",{attrs:{variant:"danger",dismissible:"",fade:""},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v(" O valor inserido não é um número. ")])]],2)],1)])])]),e("b-modal",{attrs:{id:"successModal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("font-awesome-icon",{staticClass:"me-2 text-success",attrs:{icon:["fas","check-circle"]}}),e("span",[t._v("Sucesso")])],1)]},proxy:!0}]),model:{value:t.showSuccessModal,callback:function(e){t.showSuccessModal=e},expression:"showSuccessModal"}},[e("div",{staticClass:"text-center"},[e("font-awesome-icon",{staticClass:"mb-3 text-primary",staticStyle:{"font-size":"3rem"},attrs:{icon:["fas","thumbs-up"]}}),e("p",{staticClass:"my-4"},[t._v(t._s(t.alertMessage))]),e("b-button",{attrs:{variant:"success"},on:{click:t.closeSuccessModal}},[t._v("OK")])],1)]),e("b-modal",{attrs:{id:"errorModal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("font-awesome-icon",{staticClass:"me-2 text-danger",attrs:{icon:["fas","exclamation-circle"]}}),e("span",[t._v("Erro")])],1)]},proxy:!0}]),model:{value:t.showErrorModal,callback:function(e){t.showErrorModal=e},expression:"showErrorModal"}},[e("div",{staticClass:"text-center"},[e("font-awesome-icon",{staticClass:"mb-3 text-danger",staticStyle:{"font-size":"3rem"},attrs:{icon:["fas","thumbs-down"]}}),e("p",{staticClass:"my-4"},[t._v(t._s(t.alertErrorMessage))]),e("b-button",{attrs:{variant:"danger"},on:{click:t.closeErrorModal}},[t._v("OK")])],1)])],1)},pt=[],vt=a.p+"img/Alimentos_1.0691bce8.jpg",ht=a.p+"img/Roupa_1.68f6aadb.jpg",gt=a.p+"img/Mat.escolar_1.5059d705.jpg";M.Yv.add(k.X7I);var ft={components:{FontAwesomeIcon:y.gc},data(){return{initiatives:[],selectedInitiative:"",quantidade:"",currentDate:(new Date).toISOString().split("T")[0],cardImages:{Recolha:vt,clothes:ht,schoolMaterial:gt},showSuccessModal:!1,showErrorModal:!1,alertMessage:""}},mounted(){this.loadInitiative()},computed:{initiativeImage(){return"Recolha de Alimentos"===this.selectedInitiative?this.cardImages["Recolha"]:"Recolha de Roupa"===this.selectedInitiative?this.cardImages["clothes"]:"Recolha de Material Escolar"===this.selectedInitiative?this.cardImages["schoolMaterial"]:""},initiativeAltText(){return this.selectedInitiative.charAt(0).toUpperCase()+this.selectedInitiative.slice(1)+" Image"},placeholderText(){return"Recolha de Alimentos"===this.selectedInitiative||"Recolha de Roupa"===this.selectedInitiative?"Quantidade (kg)":"Recolha de Material Escolar"===this.selectedInitiative?"Peças":"Quantidade"}},methods:{saveData(){console.log("Data saved successfully!");const t=JSON.parse(localStorage.getItem("currentInitiative"));if(t&&""!==this.quantidade.trim()){if(isNaN(this.quantidade))return this.alertErrorMessage="Introduza um valor numérico!",void(this.showErrorModal=!0);for(let e=0;e<t.length;e++)if(t[e].dia===this.currentDate){t[e].materialRecolhido=this.quantidade,this.alertMessage="Quantidade introduzida com sucesso!",this.showSuccessModal=!0;break}console.log("quantidade"+this.quantidade),localStorage.setItem("currentInitiative",JSON.stringify(t)),this.quantidade=""}},closeErrorModal(){this.showErrorModal=!1},closeSuccessModal(){this.showSuccessModal=!1},loadInitiative(){const t=JSON.parse(localStorage.getItem("currentInitiative"));if(t)for(let e=0;e<t.length;e++)if(t[e].dia===this.currentDate){this.selectedInitiative=t[e].designacao,console.log("Iniciativas a funcionar: ",this.selectedInitiative);break}},isEqual(t,e){return t===e}}},wt=ft,bt=(0,l.A)(wt,ut,pt,!1,null,"3f93a06d",null),Ct=bt.exports,_t=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"display-2 mb-3 mt-5"},[t._v("Histórico de Iniciativas")]),e("div",{staticClass:"main-bg"},[e("div",{staticClass:"row"},t._l(t.initiatives,(function(a,i){return e("div",{key:i,staticClass:"col-md-4 offset-md-4 card-voluntario",class:{"green-border":t.isEqual(a.dia,t.currentDate)},on:{click:function(e){return t.selectInitiative(a)}}},[e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"fa-solid fa-user"}),e("p",[t._v(t._s(a.profissional))])]),e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"fa-solid fa-file-lines"}),e("p",[t._v(t._s(a.designacao))])]),e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"fa-solid fa-location-dot"}),e("p",[t._v(t._s(a.local))])]),e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"fa-solid fa-hand-holding-dollar"}),e("p",[t._v(t._s(a.materialRecolhido))])]),e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"fa-solid fa-calendar-days"}),e("p",[t._v(t._s(a.dia))])])])})),0)]),e("b-modal",{attrs:{title:"Detalhes da Iniciativa",size:"lg"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h4",[t._v(t._s(t.selectedInitiative.profissional))]),e("p",[e("strong",[t._v("Designação:")]),t._v(" "+t._s(t.selectedInitiative.designacao))]),e("p",[e("strong",[t._v("Local:")]),t._v(" "+t._s(t.selectedInitiative.local))]),e("p",[e("strong",[t._v("Material Recolhido:")]),t._v(" "+t._s(t.selectedInitiative.materialRecolhido))]),e("p",[e("strong",[t._v("Data:")]),t._v(" "+t._s(t.selectedInitiative.dia))]),e("p",[e("strong",[t._v("Participantes:")]),t._v(" "+t._s(t.selectedInitiative.numParticipantes))])]),e("div",{staticClass:"col-md-6"},[t.multimedia.length?e("b-carousel",{attrs:{controls:"",indicators:""}},t._l(t.multimedia,(function(t,a){return e("b-carousel-slide",{key:a,attrs:{"img-src":t.image}})})),1):e("p",[t._v("Sem imagens disponíveis.")])],1)])])]),e("b-alert",{attrs:{variant:t.alertVariant,dismissible:"",fade:""},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v(" "+t._s(t.alertMessage)+" ")])],1)},It=[],St={data(){return{initiatives:[],showAlert:!1,alertVariant:"",alertMessage:"",selectedInitiative:"",showModal:!1,quantidade:"",total:0,currentDate:(new Date).toISOString().split("T")[0],multimedia:[]}},created(){document.title="GoHelp App"},computed:{loggedInUser(){return this.$root.loggedInUser}},mounted(){this.loadInitiative()},methods:{loadInitiative(){const t=localStorage.getItem("currentInitiative"),e=this.formatName(this.loggedInUser.username);console.log("logged in user: ",this.loggedInUser),console.log("formatted username: ",e),t?(this.initiatives=JSON.parse(t).filter((t=>t.profissional===e)),console.log(this.initiatives),this.initiatives.forEach((t=>{t.materialRecolhido?t.materialRecolhido+=" kg":t.materialRecolhido="Informação não disponível"}))):console.log("No stored initiative found.")},loadMultimedia(){this.selectedInitiative&&this.selectedInitiative.imagensIds?this.multimedia=JSON.parse(localStorage.getItem("multimedia")).filter((t=>this.selectedInitiative.imagensIds.includes(t.id)))||[]:this.multimedia=[]},selectInitiative(t){this.selectedInitiative=t,console.log("selected initiative img: ",this.selectedInitiative.imagens),this.loadMultimedia(),this.showModal=!0},formatName(t){return t.split("_").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" ")},isEqual(t,e){return t===e}}},yt=St,kt=(0,l.A)(yt,_t,It,!1,null,"bce769e0",null),Mt=kt.exports;i["default"].use(m.Ay);const xt=[{path:"/",component:N},{path:"/landing",component:q,children:[{path:"/profile",name:"profile",component:b},{path:"/registerMoments",name:"registerMoments",component:G},{path:"/forgotPassword",component:Z},{path:"/resetPassword",component:ot},{path:"/manageInitiatives",name:"manageInititives",component:mt},{path:"/dashboard",name:"dashboard",component:Ct},{path:"/historyPage",name:"historyPage",component:Mt}]}],Pt=new m.Ay({routes:xt,mode:"history"});var Et=Pt,Dt=a(4025),Ft=a(2625),Nt=(a(9313),a(3723));(0,Nt.k)("/F301.APP/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),i["default"].use(Dt.vGs),i["default"].use(Ft.YS),i["default"].config.productionTip=!1,new i["default"]({router:Et,data:{loggedInUser:""},created(){const t=sessionStorage.getItem("loggedInUser");t&&(this.loggedInUser=JSON.parse(t))},render:t=>t(d)}).$mount("#app")}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,i,s,o){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],o=t[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(n=!1,o<r&&(r=o));if(n){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[i,s,o]}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/F301.APP/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,o,r=i[0],n=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var d=l(a)}for(e&&e(i);c<r.length;c++)o=r[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(d)},i=self["webpackChunkappvuejs"]=self["webpackChunkappvuejs"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(293)}));i=a.O(i)})();
//# sourceMappingURL=app.7e264200.js.map